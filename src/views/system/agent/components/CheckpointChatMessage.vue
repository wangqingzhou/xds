<template>
  <div class="checkpoint-chat-message">
    <span class="label">ðŸŽ¯ Checkpoint set</span>
    <button 
      type="button" 
      @click="handleRestore"
    >
      Restore
    </button>
  </div>
</template>

<script setup>
import { defineProps, inject } from 'vue'

// æ³¨å…¥AIä»£ç†ä¸Šä¸‹æ–‡
const aiAgentContext = inject('AiAgentContext')

// å®šä¹‰ç»„ä»¶å±žæ€§
const props = defineProps({
  message: {
    type: Object,
    required: true
  }
})

// å¤„ç†æ¢å¤æ£€æŸ¥ç‚¹
const handleRestore = () => {
  aiAgentContext.provider.restoreCheckpoint(props.message.checkpoint)
}
</script>
